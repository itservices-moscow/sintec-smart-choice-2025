(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){!function(){let e=new Image;e.onload=e.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const e=document.querySelector(".header"),t=document.querySelector(".menu"),o=document.querySelector(".header__burger-icon");document.querySelector(".menu__close"),t&&o&&o.addEventListener("click",(()=>{q(t),q(e),q(o)}));const n=document.querySelectorAll("[data-goto]");if(n.length>0){function x(n){const i=n.target;if(i.dataset.goto&&document.querySelector(i.dataset.goto)){const s=document.querySelector(i.dataset.goto).getBoundingClientRect().top+pageYOffset;window.scrollTo({top:s,behavior:"smooth"}),n.preventDefault(),t.classList.contains("_active")&&(b(t),b(e),b(o))}}n.forEach((e=>{e.addEventListener("click",x)}))}document.querySelectorAll(".popup-link");const i=document.querySelector("body"),s=document.querySelectorAll(".lock-padding");let l=!0;document.querySelector(".tests__slider").addEventListener("click",(function(e){if(e.target.classList.contains("popup-link")){e.preventDefault();const t=e.target.getAttribute("href").replace("#",""),o=document.getElementById(t);o&&function(e){if(e&&l){const t=document.querySelector(".popup.open");t?c(t,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(s.length>0)for(let t=0;t<s.length;t++)s[t].style.paddingRight=e;i.style.paddingRight=e,i.classList.add("_lock"),l=!1,setTimeout((function(){l=!0}),500)}(),e.classList.add("open"),function(e){let t=0,o=0;e.addEventListener("touchstart",(e=>{t=e.touches[0].clientY})),e.addEventListener("touchmove",(n=>{o=n.touches[0].clientY,o-t>30&&c(e)}))}(e),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||c(e.target.closest(".popup"))}))}}(o),history.pushState(null,null,window.location.pathname)}}));const r=document.querySelectorAll(".close-popup");if(r.length>0)for(let P=0;P<r.length;P++){const k=r[P];k.addEventListener("click",(function(e){c(k.closest(".popup")),e.preventDefault()}))}function c(e,t=!0){l&&(e.classList.remove("open"),t&&(setTimeout((function(){if(s.length>0)for(let e=0;e<s.length;e++)s[e].style.paddingRight="0px";i.style.paddingRight="0px",i.classList.remove("_lock")}),500),l=!1,setTimeout((function(){l=!0}),500)))}document.addEventListener("keydown",(function(e){27===e.which&&c(document.querySelector(".popup.open"))}));const a=document.querySelectorAll("._anim-items");if(a.length>0){function I(){for(let e=0;e<a.length;e++){const t=a[e],o=t.offsetHeight,n=T(t).top,i=4;let s=window.innerHeight-o/i;o>window.innerHeight&&(s=window.innerHeight-window.innerHeight/i),pageYOffset>n-s&&pageYOffset<n+o?t.classList.add("_visible"):t.classList.contains("_anim-no-hide")||t.classList.remove("_visible")}}function T(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}window.addEventListener("scroll",I),setTimeout((()=>{I()}),200)}const d=document.querySelectorAll("[data-spollers]");if(d.length>0){const B=Array.from(d).filter((function(e,t,o){return!e.dataset.spollers.split(",")[0]}));B.length>0&&H(B);const Y=Array.from(d).filter((function(e,t,o){return e.dataset.spollers.split(",")[0]}));if(Y.length>0){const D=[];Y.forEach((e=>{const t={},o=e.dataset.spollers.split(",");t.value=o[0],t.type=o[1]?o[1].trim():"max",t.item=e,D.push(t)}));let M=D.map((function(e){return"("+e.type+"-width:"+e.value+"px),"+e.value+","+e.type}));M=M.filter((function(e,t,o){return o.indexOf(e)===t})),M.forEach((e=>{const t=e.split(","),o=t[1],n=t[2],i=window.matchMedia(t[0]),s=D.filter((function(e){if(e.value===o&&e.type===n)return!0}));i.addListener((function(){H(s,i)})),H(s,i)}))}function H(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),C(e),e.addEventListener("click",O)):(e.classList.remove("_init"),C(e,!1),e.removeEventListener("click",O))}))}function C(e,t=!0){const o=e.querySelectorAll("[data-spoller]");o.length>0&&o.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function O(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const o=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),n=o.closest("[data-spollers]"),i=!!n.hasAttribute("data-one-spoller");n.querySelectorAll("._slide").length||(i&&!o.classList.contains("_active")&&R(n),o.parentElement.classList.toggle("_active"),o.classList.toggle("_active"),p(o.nextElementSibling,500)),e.preventDefault()}}function R(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),t.parentElement.classList.remove("_active"),u(t.nextElementSibling,500))}}let u=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("mragin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},p=(e,t=500)=>e.hidden?((e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}})(e,t):u(e,t);document.querySelectorAll(".technologies-item").forEach((e=>{const t=e.querySelector(".technologies-item__text"),o=e.querySelector(".technologies-item-product"),n=e.querySelector(".technologies-item__image"),i=e.querySelector(".technologies-item__button"),s=e.querySelector(".technologies-item__left"),l=e.querySelector(".technologies-item__right"),r=e.querySelector(".technologies-item__top");window.innerWidth<1024&&(l.append(n),l.append(o),s.append(i),r.append(t))}));const h=document.querySelectorAll(".tests-menu__item"),m=document.querySelectorAll(".tests-menu__progress-bar .progress"),g=document.querySelector(".tests-menu");let f=null,y=!1;function v(){const e=document.querySelectorAll(".slider__item .swiper-slide");let t=0;e.forEach((e=>{e.style.height="auto";const o=e.offsetHeight;o>t&&(t=o)})),e.forEach((e=>{e.style.height=`${t}px`}))}function w(){return"ontouchstart"in window||navigator.maxTouchPoints}console.log(w()),w()&&document.querySelectorAll(".zoomable").forEach((e=>{let t=1,o=0;function n(e,t){return Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2))}e.addEventListener("touchstart",(function(e){2===e.touches.length&&(o=n(e.touches[0],e.touches[1]))})),e.addEventListener("touchmove",(function(i){if(2===i.touches.length){i.preventDefault();const s=n(i.touches[0],i.touches[1]),l=s/o;t=Math.max(1,Math.min(3,t*l)),e.style.transform=`scale(${t})`,o=s}}))}));const L=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(y||(y=!0,v(),f=new Swiper(".slider__item",{direction:"vertical",loop:!0,slidesPerView:1,spaceBetween:50,speed:600,autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{767:{direction:"vertical"},0:{direction:"horizontal",spaceBetween:15,slidesPerView:1.188}},on:{slideChange:function(){S(this)},loopFix:function(){S(this,this.realIndex)}}}),S(f),window.addEventListener("resize",v)),t.disconnect())}))}),{root:null,rootMargin:"0px 0px -476px 0px",threshold:0}),_=document.querySelector(".slider__item");function S(e,t=null){if(!e)return;let o=null!==t?t:e.realIndex;const n=window.innerWidth<=1024;e.activeIndex>=e.slides.length-e.loopedSlides?o=0:e.activeIndex<e.loopedSlides&&(o=h.length-1),m.forEach((e=>{e.style.transition="none",n?(e.style.width="0%",e.style.height=""):(e.style.height="0%",e.style.width="")})),m.forEach(((e,t)=>{t<o?(e.style.transition="none",n?(e.style.width="100%",e.style.height=""):(e.style.height="100%",e.style.width=""),h[t].classList.add("completed")):t===o?(setTimeout((()=>{e.style.transition=n?"width 5s linear":"height 5s linear",n?(e.style.width="100%",e.style.height=""):(e.style.height="100%",e.style.width="")}),50),h[t].classList.add("completed")):h[t].classList.remove("completed")})),h.forEach(((e,t)=>{e.classList.toggle("active",t===o),t===o&&n&&(g.scrollLeft=e.offsetLeft)}))}_&&L.observe(_),h.forEach((e=>{e.addEventListener("click",(function(){if(f){const e=parseInt(this.dataset.index);f.slideToLoop(e),S(f,e)}}))})),f&&f.on("loopFix",(function(){S(f,f.realIndex)})),y&&(h[0].classList.add("completed"),S(f));const E=document.querySelectorAll("section")[2];let A=window.scrollY;function q(e){e.classList.toggle("_active"),e.parentElement.classList.toggle("_active")}function b(e){e.classList.remove("_active"),e.parentElement.classList.remove("_active")}window.addEventListener("scroll",(()=>{const t=window.scrollY;t>=E.getBoundingClientRect().top+window.scrollY?t>A?e.classList.add("_hidden"):(e.classList.remove("_hidden"),e.classList.add("fixed")):(e.classList.remove("_hidden"),e.classList.remove("fixed")),A=t}))}))})();